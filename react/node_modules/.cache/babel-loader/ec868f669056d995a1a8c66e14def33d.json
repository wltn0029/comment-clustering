{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jisu/comment-clustering/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/jisu/comment-clustering/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/jisu/comment-clustering/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jisu/comment-clustering/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jisu/comment-clustering/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jisu/comment-clustering/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jisu/comment-clustering/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import axios from'axios';import'./VideoInfo.css';var apiKey='AIzaSyBhrKlcf07TRvzF5RPeKOxYSBC06TP-JUc';var getVideoInfo=function getVideoInfo(videoId){return\"https://www.googleapis.com/youtube/v3/videos?part=snippet&key=\".concat(apiKey,\"                              &id=\").concat(videoId);};var getChannelInfo=function getChannelInfo(channelId){return\"https://www.googleapis.com/youtube/v3/channels?part=snippet&key=\".concat(apiKey,\"                              &id=\").concat(channelId);};var VideoInfo=/*#__PURE__*/function(_Component){_inherits(VideoInfo,_Component);var _super=_createSuper(VideoInfo);function VideoInfo(props){var _this;_classCallCheck(this,VideoInfo);_this=_super.call(this,props);_this.updateVideoInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(videoId){var videoInfo,_videoInfo$data$items,channelId,title,description,thumbnails,videoThumbnail,channelInfo,channelImg;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(videoId){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return axios.get(getVideoInfo(videoId));case 4:videoInfo=_context.sent;_videoInfo$data$items=_objectSpread({},videoInfo.data.items[0].snippet),channelId=_videoInfo$data$items.channelId,title=_videoInfo$data$items.title,description=_videoInfo$data$items.description,thumbnails=_videoInfo$data$items.thumbnails;videoThumbnail=thumbnails.default.url;_context.next=9;return axios.get(getChannelInfo(channelId));case 9:channelInfo=_context.sent;channelImg=channelInfo.data.items[0].snippet.thumbnails.default.url;_this.setState({videoTitle:title,videoThumbnail:videoThumbnail,description:description,channelImg:channelImg});case 12:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={videoTitle:'',description:'',videoThumbnail:'',channelImg:''};return _this;}_createClass(VideoInfo,[{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(nextProps.videoId!==this.props.videoId){this.updateVideoInfo(nextProps.videoId);return true;}else if(nextState.videoTitle!==this.state.videoTitle||nextState.videoThumbnail!==this.state.videoThumbnail||nextState.description!==this.state.default||nextState.channelImg!==this.state.channelImg){return true;}return false;}},{key:\"render\",value:function render(){var _this$state=this.state,videoTitle=_this$state.videoTitle,videoThumbnail=_this$state.videoThumbnail,description=_this$state.description,channelImg=_this$state.channelImg;// console.log('render')\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"video-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"video-title-info\",children:videoTitle&&/*#__PURE__*/_jsx(\"text\",{className:\"video-title\",children:videoTitle})}),/*#__PURE__*/_jsx(\"div\",{children:description&&/*#__PURE__*/_jsx(\"div\",{className:\"video-description\",children:description})})]});}}]);return VideoInfo;}(Component);export default VideoInfo;","map":{"version":3,"sources":["/Users/jisu/comment-clustering/react/src/components/VideoInfo.js"],"names":["React","Component","axios","apiKey","getVideoInfo","videoId","getChannelInfo","channelId","VideoInfo","props","updateVideoInfo","get","videoInfo","data","items","snippet","title","description","thumbnails","videoThumbnail","default","url","channelInfo","channelImg","setState","videoTitle","state","nextProps","nextState"],"mappings":"ioCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,iBAAP,CAEA,GAAMC,CAAAA,MAAM,CAAG,yCAAf,CACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,OAAO,gFAAqEF,MAArE,8CACQE,OADR,GAA5B,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAC,SAAS,kFAAuEJ,MAAvE,8CACII,SADJ,GAAhC,C,GAGMC,CAAAA,S,sGACF,mBAAYC,KAAZ,CAAmB,2CACf,uBAAMA,KAAN,EADe,MAuBnBC,eAvBmB,0FAuBD,iBAAML,OAAN,sOACTA,OADS,uFAIUH,CAAAA,KAAK,CAACS,GAAN,CAAUP,YAAY,CAACC,OAAD,CAAtB,CAJV,QAIRO,SAJQ,sDAK2CA,SAAS,CAACC,IAAV,CAAeC,KAAf,CAAqB,CAArB,EAAwBC,OALnE,EAKPR,SALO,uBAKPA,SALO,CAKIS,KALJ,uBAKIA,KALJ,CAKWC,WALX,uBAKWA,WALX,CAKwBC,UALxB,uBAKwBA,UALxB,CAMRC,cANQ,CAMSD,UAAU,CAACE,OAAX,CAAmBC,GAN5B,uBAQYnB,CAAAA,KAAK,CAACS,GAAN,CAAUL,cAAc,CAACC,SAAD,CAAxB,CARZ,QAQRe,WARQ,eASRC,UATQ,CASKD,WAAW,CAACT,IAAZ,CAAiBC,KAAjB,CAAuB,CAAvB,EAA0BC,OAA1B,CAAkCG,UAAlC,CAA6CE,OAA7C,CAAqDC,GAT1D,CAWd,MAAKG,QAAL,CAAc,CAACC,UAAU,CAAET,KAAb,CAAoBG,cAAc,CAAdA,cAApB,CAAoCF,WAAW,CAAXA,WAApC,CAAiDM,UAAU,CAAVA,UAAjD,CAAd,EAXc,uDAvBC,+DAEf,MAAKG,KAAL,CAAa,CACTD,UAAU,CAAG,EADJ,CAETR,WAAW,CAAE,EAFJ,CAGTE,cAAc,CAAE,EAHP,CAITI,UAAU,CAAG,EAJJ,CAAb,CAFe,aAQlB,C,0FAEqBI,S,CAAWC,S,CAAW,CACxC,GAAID,SAAS,CAACtB,OAAV,GAAsB,KAAKI,KAAL,CAAWJ,OAArC,CAA8C,CAC1C,KAAKK,eAAL,CAAqBiB,SAAS,CAACtB,OAA/B,EACA,MAAO,KAAP,CACH,CAHD,IAGO,IAAIuB,SAAS,CAACH,UAAV,GAAyB,KAAKC,KAAL,CAAWD,UAApC,EACCG,SAAS,CAACT,cAAV,GAA6B,KAAKO,KAAL,CAAWP,cADzC,EAECS,SAAS,CAACX,WAAV,GAA0B,KAAKS,KAAL,CAAWN,OAFtC,EAGCQ,SAAS,CAACL,UAAV,GAAyB,KAAKG,KAAL,CAAWH,UAHzC,CAGqD,CACxD,MAAO,KAAP,CACH,CACD,MAAO,MAAP,CACH,C,uCAgBQ,iBACyD,KAAKG,KAD9D,CACED,UADF,aACEA,UADF,CACcN,cADd,aACcA,cADd,CAC8BF,WAD9B,aAC8BA,WAD9B,CAC2CM,UAD3C,aAC2CA,UAD3C,CAEL;AACA,mBACI,aAAK,SAAS,CAAC,YAAf,wBACI,YAAK,SAAS,CAAC,kBAAf,UAEKE,UAAU,eAAK,aAAM,SAAS,CAAC,aAAhB,UAA+BA,UAA/B,EAFpB,EADJ,cAKI,qBAEKR,WAAW,eAAK,YAAK,SAAS,CAAC,mBAAf,UAAoCA,WAApC,EAFrB,EALJ,GADJ,CAaH,C,uBAtDmBhB,S,EAyDxB,cAAeO,CAAAA,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './VideoInfo.css';\n\nconst apiKey = 'AIzaSyBhrKlcf07TRvzF5RPeKOxYSBC06TP-JUc';\nconst getVideoInfo = videoId => `https://www.googleapis.com/youtube/v3/videos?part=snippet&key=${apiKey}\\\n                              &id=${videoId}`\nconst getChannelInfo = channelId => `https://www.googleapis.com/youtube/v3/channels?part=snippet&key=${apiKey}\\\n                              &id=${channelId}`\n\nclass VideoInfo extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            videoTitle : '',\n            description: '',\n            videoThumbnail: '',\n            channelImg : ''\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextProps.videoId !== this.props.videoId) {\n            this.updateVideoInfo(nextProps.videoId);\n            return true;\n        } else if (nextState.videoTitle !== this.state.videoTitle ||\n                    nextState.videoThumbnail !== this.state.videoThumbnail ||\n                    nextState.description !== this.state.default ||\n                    nextState.channelImg !== this.state.channelImg) {\n            return true\n        }\n        return false;\n    }\n\n    updateVideoInfo = async(videoId) => {\n        if (!videoId) {\n            return;\n        }\n        const videoInfo = await axios.get(getVideoInfo(videoId));\n        const {channelId, title, description, thumbnails}  = {...videoInfo.data.items[0].snippet};\n        const videoThumbnail = thumbnails.default.url;\n\n        const channelInfo = await axios.get(getChannelInfo(channelId));\n        const channelImg = channelInfo.data.items[0].snippet.thumbnails.default.url;\n        \n        this.setState({videoTitle: title, videoThumbnail, description, channelImg});\n    }\n\n    render() {\n        const {videoTitle, videoThumbnail, description, channelImg} = this.state;\n        // console.log('render')\n        return (\n            <div className=\"video-info\">\n                <div className=\"video-title-info\">\n                    {/* {videoThumbnail && (<img className=\"video-thumbnail\" src={videoThumbnail}/>)} */}\n                    {videoTitle && (<text className=\"video-title\">{videoTitle}</text>)}\n                </div>\n                <div>\n                    {/* {channelImg && (<img className=\"video-img\" src={channelImg}/>)} */}\n                    {description && (<div className=\"video-description\">{description}</div>)}\n                </div>\n            </div>\n           \n        );\n    }\n}\n\nexport default VideoInfo;"]},"metadata":{},"sourceType":"module"}