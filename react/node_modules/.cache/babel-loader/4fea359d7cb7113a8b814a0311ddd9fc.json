{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/jisu/comment-clustering/react/src/components/Comments.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nconst apiKey = 'AIzaSyBhrKlcf07TRvzF5RPeKOxYSBC06TP-JUc';\n\nconst getCommentThreads = videoId => `https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&key=${apiKey}\\\n                                        &videoId=${videoId}&maxResults=100`;\n\nclass Comments extends Component {\n  constructor(props) {\n    super(props);\n\n    this.analyzeComments = async videoId => {\n      if (!videoId) {\n        return;\n      }\n\n      const comments = await axios.get(getCommentThreads(videoId));\n      const convertedComments = comments.data.items.map(comment => {\n        const id = comment.snippet.topLevelComment.id;\n        const {\n          authorDisplayName,\n          authorProfileImageUrl,\n          textOriginal\n        } = { ...comment.snippet.topLevelComment.snippet\n        };\n        return {\n          id: {\n            authorDisplayName,\n            authorProfileImageUrl,\n            textOriginal\n          }\n        };\n      });\n      console.log(convertedComments);\n    };\n\n    this.state = {\n      neg: [],\n      pos: [],\n      neu: []\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.videoId !== this.props.videoId) {\n      this.analyzeComments(nextProps.videoId);\n      return true;\n    } else if (nextState.neg !== this.state.neg || nextState.pos !== this.state.pos || nextState.neu !== this.state.neu) {\n      return true;\n    }\n\n    return false;\n  }\n\n  render() {\n    const {\n      pos,\n      neg,\n      neu\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Comments;","map":{"version":3,"sources":["/Users/jisu/comment-clustering/react/src/components/Comments.js"],"names":["React","Component","axios","apiKey","getCommentThreads","videoId","Comments","constructor","props","analyzeComments","comments","get","convertedComments","data","items","map","comment","id","snippet","topLevelComment","authorDisplayName","authorProfileImageUrl","textOriginal","console","log","state","neg","pos","neu","shouldComponentUpdate","nextProps","nextState","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,MAAM,GAAG,yCAAf;;AACA,MAAMC,iBAAiB,GAAGC,OAAO,IAAK,yEAAwEF,MAAO;AACrH,mDAAmDE,OAAQ,iBAD3D;;AAEA,MAAMC,QAAN,SAAuBL,SAAvB,CAAiC;AAC7BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAqBnBC,eArBmB,GAqBD,MAAMJ,OAAN,IAAkB;AAChC,UAAI,CAACA,OAAL,EAAc;AACV;AACH;;AACD,YAAMK,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAUP,iBAAiB,CAACC,OAAD,CAA3B,CAAvB;AACA,YAAMO,iBAAiB,GAAGF,QAAQ,CAACG,IAAT,CAAcC,KAAd,CAAoBC,GAApB,CAAwBC,OAAO,IAAI;AACzD,cAAMC,EAAE,GAAGD,OAAO,CAACE,OAAR,CAAgBC,eAAhB,CAAgCF,EAA3C;AACA,cAAM;AAACG,UAAAA,iBAAD;AAAoBC,UAAAA,qBAApB;AAA2CC,UAAAA;AAA3C,YACF,EAAC,GAAGN,OAAO,CAACE,OAAR,CAAgBC,eAAhB,CAAgCD;AAApC,SADJ;AAEA,eAAO;AAACD,UAAAA,EAAE,EAAE;AAACG,YAAAA,iBAAD;AAAoBC,YAAAA,qBAApB;AAA2CC,YAAAA;AAA3C;AAAL,SAAP;AACH,OALyB,CAA1B;AAMAC,MAAAA,OAAO,CAACC,GAAR,CAAYZ,iBAAZ;AACH,KAjCkB;;AAEf,SAAKa,KAAL,GAAa;AACTC,MAAAA,GAAG,EAAG,EADG;AAETC,MAAAA,GAAG,EAAG,EAFG;AAGTC,MAAAA,GAAG,EAAG;AAHG,KAAb;AAKH;;AAEDC,EAAAA,qBAAqB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACxC,QAAID,SAAS,CAACzB,OAAV,KAAsB,KAAKG,KAAL,CAAWH,OAArC,EAA8C;AAC1C,WAAKI,eAAL,CAAqBqB,SAAS,CAACzB,OAA/B;AACA,aAAO,IAAP;AACH,KAHD,MAGO,IAAI0B,SAAS,CAACL,GAAV,KAAkB,KAAKD,KAAL,CAAWC,GAA7B,IACCK,SAAS,CAACJ,GAAV,KAAkB,KAAKF,KAAL,CAAWE,GAD9B,IAECI,SAAS,CAACH,GAAV,KAAkB,KAAKH,KAAL,CAAWG,GAFlC,EAEuC;AAC1C,aAAO,IAAP;AACH;;AACD,WAAO,KAAP;AACH;;AAgBDI,EAAAA,MAAM,GAAG;AACL,UAAM;AAACL,MAAAA,GAAD;AAAMD,MAAAA,GAAN;AAAWE,MAAAA;AAAX,QAAkB,KAAKH,KAA7B;AACA,wBACI;AAAM,MAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,YADJ;AAIH;;AA1C4B;;AA6CjC,eAAenB,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nconst apiKey = 'AIzaSyBhrKlcf07TRvzF5RPeKOxYSBC06TP-JUc';\nconst getCommentThreads = videoId => `https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&key=${apiKey}\\\n                                        &videoId=${videoId}&maxResults=100`\nclass Comments extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            neg : [],\n            pos : [],\n            neu : []\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextProps.videoId !== this.props.videoId) {\n            this.analyzeComments(nextProps.videoId);\n            return true;\n        } else if (nextState.neg !== this.state.neg ||\n                    nextState.pos !== this.state.pos ||\n                    nextState.neu !== this.state.neu) {\n            return true\n        }\n        return false;\n    }\n\n    analyzeComments = async(videoId) => {\n        if (!videoId) {\n            return;\n        }\n        const comments = await axios.get(getCommentThreads(videoId));\n        const convertedComments = comments.data.items.map(comment => {\n            const id = comment.snippet.topLevelComment.id\n            const {authorDisplayName, authorProfileImageUrl, textOriginal} = \n                {...comment.snippet.topLevelComment.snippet}\n            return {id :{authorDisplayName, authorProfileImageUrl, textOriginal} }\n        })\n        console.log(convertedComments)\n    }\n\n    render() {\n        const {pos, neg, neu} = this.state;\n        return (\n            <div  className=\"comments\">\n            </div>\n        );\n    }\n}\n\nexport default Comments;"]},"metadata":{},"sourceType":"module"}