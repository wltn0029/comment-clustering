(this["webpackJsonpcomment-clustering"]=this["webpackJsonpcomment-clustering"]||[]).push([[0],{21:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),i=n(22),s=n.n(i),o=(n(28),n(3)),l=n(4),u=n(6),d=n(5),h=(n(29),n(7)),p=n.n(h),m=n(10),v=n(9),j=n(8),b=n.n(j),f=(n(48),function(e){return"https://www.googleapis.com/youtube/v3/videos?                                        part=id&key=".concat("AIzaSyBhrKlcf07TRvzF5RPeKOxYSBC06TP-JUc","&id=").concat(e)}),O=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleClick=function(e){if(a.inputRef.current)if(0!==a.inputRef.current.value.length){var t=function(e){var t=e.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return t&&11===t[2].length?t[2]:void 0}(a.inputRef.current.value);if(t)(function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(f(t));case 2:0===e.sent.data.pageInfo.totalResults?a.setState({correctInput:!1}):(a.props.handleClick(t),a.setState({correctInput:!0}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t);else a.setState({correctInput:!1})}else a.setState({correctInput:void 0})},a.inputRef=r.a.createRef(),a.state={correctInput:void 0},a.handleClick=a.handleClick.bind(Object(v.a)(a)),a}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return t.correctInput!==this.state.correctInput}},{key:"render",value:function(){this.state.correctInput||this.state.correctInput;return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsxs)("div",{className:"center",children:[Object(a.jsx)("div",{className:"title-main",children:"Comment Clustering"}),Object(a.jsx)("div",{className:"blank"}),Object(a.jsx)("input",{className:"input-text",placeholder:"write youtube url",ref:this.inputRef}),Object(a.jsx)("button",{className:"arrange-btn",onClick:this.handleClick,children:"rearrange"})]}),!1===this.state.correctInput&&Object(a.jsx)("span",{className:"wrong-text",children:"Please insert correct url"})]})}}]),n}(c.Component),g=n(11),x=(n(49),"AIzaSyBhrKlcf07TRvzF5RPeKOxYSBC06TP-JUc"),y=function(e){return"https://www.googleapis.com/youtube/v3/videos?part=snippet&key=".concat(x,"                              &id=").concat(e)},C=function(e){return"https://www.googleapis.com/youtube/v3/channels?part=snippet&key=".concat(x,"                              &id=").concat(e)},I=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).updateVideoInfo=function(){var e=Object(m.a)(p.a.mark((function e(t){var n,c,r,i,s,o,l,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b.a.get(y(t));case 4:return n=e.sent,c=Object(g.a)({},n.data.items[0].snippet),r=c.channelId,i=c.title,s=c.description,o=c.thumbnails,l=o.default.url,e.next=9,b.a.get(C(r));case 9:u=e.sent,d=u.data.items[0].snippet.thumbnails.default.url,a.setState({videoTitle:i,videoThumbnail:l,description:s,channelImg:d});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={videoTitle:"",description:"",videoThumbnail:"",channelImg:""},a}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.videoId!==this.props.videoId?(this.updateVideoInfo(e.videoId),!0):t.videoTitle!==this.state.videoTitle||t.videoThumbnail!==this.state.videoThumbnail||t.description!==this.state.default||t.channelImg!==this.state.channelImg}},{key:"render",value:function(){var e=this.state,t=e.videoTitle,n=(e.videoThumbnail,e.description);e.channelImg;return Object(a.jsxs)("div",{className:"video-info",children:[Object(a.jsx)("div",{className:"video-title-info",children:t&&Object(a.jsx)("text",{className:"video-title",children:t})}),Object(a.jsx)("div",{children:n&&Object(a.jsx)("div",{className:"video-description",children:n})})]})}}]),n}(c.Component),k=(n(21),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleClick=function(e){var t=a.props,n=t.expand,c=t.category;n?a.props.handleClick(""):a.props.handleClick(c)},a.handleClick=a.handleClick.bind(Object(v.a)(a)),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.expand,n=e.comments,c=t?n:n.slice(0,1),r=t?"Close":"Show More",i="pos"===this.props.category?"POSITIVE":"neu"===this.props.category?"NEUTRALITY":"NEGATIVE";return void 0!==t&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"category",children:[Object(a.jsx)("span",{className:"category-name",children:i}),Object(a.jsx)("button",{className:"thread-btn",onClick:this.handleClick,children:r})]}),Object(a.jsx)("div",{children:c.map((function(e){return Object(a.jsx)(T,{authorDisplayName:e.authorDisplayName,authorProfileImageUrl:e.authorProfileImageUrl,textOriginal:e.textOriginal},e.id)}))})]})}}]),n}(c.Component)),T=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.authorDisplayName,n=(e.authorProfileImageUrl,e.textOriginal);return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsxs)("div",{className:"profile",children:[Object(a.jsx)("span",{className:"user-name",children:t}),Object(a.jsx)("text",{children:" : "}),Object(a.jsx)("span",{className:"comment-text",children:n})]})})}}]),n}(c.Component),w=k,N=(n(50),function(e){return"https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&key=".concat("AIzaSyBhrKlcf07TRvzF5RPeKOxYSBC06TP-JUc","                                        &videoId=").concat(e,"&maxResults=100")}),S=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).analyzeComments=function(){var e=Object(m.a)(p.a.mark((function e(t){var n,c,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b.a.get(N(t));case 4:n=e.sent,c=n.data.items.map((function(e){var t=e.snippet.topLevelComment.id,n=Object(g.a)({},e.snippet.topLevelComment.snippet);return{id:t,authorDisplayName:n.authorDisplayName,authorProfileImageUrl:n.authorProfileImageUrl,textOriginal:n.textOriginal}})),r={rawData:c},i={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(r)},console.log(i),fetch("http://143.248.144.129:8080/main",i).then((function(e){})),a.setState({pos:c});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.isSelected=function(e){return""!==a.state.selectedCategory&&(a.state.selectedCategory===e||void 0)},a.expandCommentThreads=function(e){console.log("expandcommentthread",e),a.setState({selectedCategory:e})},a.state={neg:[],pos:[],neu:[],selectedCategory:""},a}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.videoId!==this.props.videoId?(this.analyzeComments(e.videoId),!0):t.neg!==this.state.neg||t.pos!==this.state.pos||t.neu!==this.state.neu||t.selectedCategory!==this.state.selectedCategory}},{key:"render",value:function(){var e=this.state,t=e.pos,n=e.neg,c=e.neu;return Object(a.jsx)("div",{className:"comments",children:(0!==t.length||0!==n.length||0!==c.length)&&Object(a.jsxs)("div",{children:[Object(a.jsx)(w,{category:"pos",comments:this.state.pos,expand:this.isSelected("pos"),handleClick:this.expandCommentThreads}),Object(a.jsx)(w,{category:"neu",comments:this.state.neu,expand:this.isSelected("neu"),handleClick:this.expandCommentThreads}),Object(a.jsx)(w,{category:"neg",comments:this.state.neg,expand:this.isSelected("neg"),handleClick:this.expandCommentThreads})]})})}}]),n}(c.Component),P=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={videoId:""},e.onChangeVideoUrl=function(t){return e.setState({videoId:t})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(O,{handleClick:this.onChangeVideoUrl}),Object(a.jsx)(I,{videoId:this.state.videoId}),Object(a.jsx)(S,{videoId:this.state.videoId})]})}}]),n}(r.a.Component),R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),R()}},[[55,1,2]]]);
//# sourceMappingURL=main.30bb5496.chunk.js.map